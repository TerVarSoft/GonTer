{"version":3,"sources":["../../src/pages/products/products.ts","../../src/pages/products/product-update/product-update.ts","../../src/pages/products/products-util.ts","../../src/models/product.ts","../../src/providers/connection.ts","../../src/providers/sellings.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/login/login.ts","../../src/pages/products/product-detail/product-detail.ts","../../src/providers/tunari-api.ts","../../src/providers/settings-cache.ts","../../src/providers/tunari-storage.ts","../../src/providers/tunari-notifier.ts","../../src/providers/settings.ts","../../src/providers/login.ts","../../src/pages/products-tabs/products-tabs.ts","../../src/pages/products-sellings/products-sellings.ts","../../src/pages/products-sellings/product-selling-update/product-selling-update.ts","../../src/providers/transactions.ts","../../src/pages/products/product-preview/product-preview.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/products.ts","../../src/providers/tunari-messages.ts","../../src/pages/products-sellings/products-sellings-util.ts","../../src/pages/products-warehouse/products-warehouse.ts","../../src/pages/products/product-img/product-img.component.ts","../../src/pages/products/thumbnail-img/thumbnail-img.component.ts","../../src/pages/products/loading-img/loading-img.component.ts","../../src/pipes/safe-url.pipe.ts"],"names":[],"mappings":"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C,CAAC;IACH,oBAAC;AAAD,CAAC;AA5DiC;IAA/B,0EAAS,CAAC,mBAAmB,CAAC;8BAAU,oEAAa;8CAAC;AAF5C,aAAa;IAHzB,wEAAS,CAAC;OACc;KACxB,CAAC;oFAQ2B;QACd,uEAAS;QACJ,iFAAO;QACT,iFAAY;QACV,mFAAa;QACZ,mFAAc;QACd,0EAAc;QACZ,+DAAU;QACd,MAAM;AA+CxB;SA9DY,aAAa,mB;;;;;;;ACrB1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["import { Component, ElementRef, Renderer } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NavController, NavParams, ActionSheetController, Platform, Alert, FabContainer } from 'ionic-angular';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport 'rxjs/add/observable/from';\r\nimport \"rxjs/add/operator/debounceTime\";\r\nimport \"rxjs/add/operator/distinctUntilChanged\"\r\nimport \"rxjs/add/operator/switchMap\";\r\n\r\nimport { ProductDetailPage } from './product-detail/product-detail';\r\nimport { ProductUpdatePage } from './product-update/product-update';\r\n\r\nimport { Connection } from '../../providers/connection';\r\nimport { Products } from '../../providers/products';\r\nimport { Sellings } from '../../providers/sellings';\r\nimport { ProductsUtil } from './products-util';\r\nimport { TunariMessages } from '../../providers/tunari-messages';\r\nimport { TunariNotifier } from '../../providers/tunari-notifier';\r\n\r\nimport { Product } from '../../models/product';\r\nimport { SettingsCache } from '../../providers/settings-cache';\r\n\r\n@Component({\r\n  selector: 'page-products',\r\n  templateUrl: 'products.html',\r\n  providers: [ProductsUtil]\r\n})\r\nexport class ProductsPage {\r\n\r\n  private products: Product[];\r\n\r\n  private searchQuery: FormControl = new FormControl();\r\n\r\n  private page: number = 0;\r\n\r\n  private selectedCategory: any = this.settingsProvider.getProductCategoriesWithAll()[0];\r\n\r\n  private selectedType: any = this.settingsProvider.getProductTypesWithAll('')[0];\r\n\r\n  private selectedPrice: any = this.settingsProvider.getProductPrices('', '')[0];\r\n\r\n  private productCategories: any[];\r\n\r\n  private productTypes: any[];\r\n\r\n  private productPrices: any[];\r\n\r\n  constructor(public platform: Platform,\r\n    public navCtrl: NavController,\r\n    public actionSheetCtrl: ActionSheetController,\r\n    public keyboard: Keyboard,\r\n    public renderer: Renderer,\r\n    private elRef: ElementRef,\r\n    public productsProvider: Products,\r\n    public sellingsProvider: Sellings,\r\n    public settingsProvider: SettingsCache,\r\n    public util: ProductsUtil,\r\n    public notifier: TunariNotifier,\r\n    public messages: TunariMessages,\r\n    public connection: Connection,\r\n    public params: NavParams) {\r\n\r\n    this.setDefaultValues();\r\n    this.setupKeyboard();\r\n    this.initFavorites();\r\n    this.initSearchQuery();\r\n  }\r\n\r\n  /** Main Page functions */\r\n\r\n  public pullNextProductsPage(infiniteScroll) {\r\n\r\n    if (this.page > 0 && this.connection.isConnected()) {\r\n      this.page++;\r\n      console.log('Pulling page ' + this.page + '...');\r\n      const query = {\r\n        tags: this.searchQuery.value,\r\n        categoryId: this.selectedCategory.id,\r\n        typeId: this.selectedType.id\r\n      }\r\n\r\n      this.productsProvider.get(query, this.page)\r\n        .map(productsObject => productsObject.items)\r\n        .subscribe(\r\n          products => this.products.push(...products),\r\n          null,\r\n          () => {\r\n            infiniteScroll.complete();\r\n            console.log('Finished pulling page successfully');\r\n          });\r\n    } else {\r\n      infiniteScroll.complete();\r\n    }\r\n  }\r\n\r\n  onSearchClear(event) {\r\n    this.blurSearchBar();\r\n  }\r\n\r\n  /** Main Fab button functions. */\r\n\r\n  createProduct(fab: FabContainer) {\r\n    fab.close();\r\n    this.navCtrl.push(ProductUpdatePage, {\r\n      product: new Product(),\r\n      selectedProductCategoryId: this.selectedCategory.id,\r\n      selectedProductTypeId: this.selectedType.id,\r\n    });\r\n  }\r\n\r\n  /** Individual Products functions. */\r\n\r\n  goToProductDetails(product: Product) {\r\n    this.navCtrl.push(ProductDetailPage, {\r\n      product: product\r\n    });\r\n  }\r\n\r\n  addPriceWhenNoPrice(event, product: Product) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getAddPriceAlert(product, this.selectedPrice);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        let saveProductLoader = this.notifier.createLoader(`Salvando ${product.name}`);\r\n        const selectedPrice = product.prices.find(price => price.priceId === this.selectedPrice.id)\r\n\r\n        if (selectedPrice) {\r\n          selectedPrice.value = data.price;\r\n        } else {\r\n          saveProductLoader.dismiss();\r\n          this.notifier.createToast(this.messages.errorWhenSavingProduct);\r\n        }\r\n\r\n        this.productsProvider.put(product).subscribe(() => {\r\n          saveProductLoader.dismiss();\r\n\r\n          if (product.isFavorite) {\r\n            this.updateFavoritesInBackground();\r\n          }\r\n        }, error => {\r\n          saveProductLoader.dismiss();\r\n          this.notifier.createToast(this.messages.errorWhenSavingProduct);\r\n        });\r\n      }\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n  getSelectedProductPrice(product: Product) {\r\n    const selectedPrice = product.prices.find(price => price.priceId === this.selectedPrice.id);\r\n\r\n    if (selectedPrice) {\r\n      return `${selectedPrice.name}: ${selectedPrice.value} Bs.`;\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  setProductQuantity(event, product: Product) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getAddQuantityAlert(product);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        let saveProductLoader = this.notifier.createLoader(`Salvando ${product.name}`);\r\n        product.quantity = data.quantity;\r\n        this.productsProvider.put(product).subscribe(() => {\r\n          saveProductLoader.dismiss();\r\n\r\n          if (product.isFavorite) {\r\n            this.updateFavoritesInBackground();\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n  createSelling(event, product: Product) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getCreateSellingAlert(product, this.selectedPrice.id);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        let createSellingLoader = this.notifier.createLoader(`Salvando ${product.name}`);\r\n        product.quantity = data.quantity;\r\n        this.sellingsProvider.post({\r\n          productId: product.id,\r\n          quantity: data.quantity,\r\n          priceId: this.selectedPrice.id\r\n        }).subscribe(() => {\r\n          createSellingLoader.dismiss();\r\n        });\r\n      }\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n  // createSelling(event, product: Product) {\r\n  //   event.stopPropagation();\r\n\r\n  //   this.navCtrl.push(ProductSellingUpdatePage, {\r\n  //     selling: {},\r\n  //     product: product\r\n  //   });\r\n  // }\r\n\r\n  openProductOptions(event, product) {\r\n    event.stopPropagation();\r\n\r\n    let actionSheet = this.actionSheetCtrl.create({\r\n      title: product.name,\r\n      cssClass: 'product-options',\r\n      buttons: [\r\n        {\r\n          text: 'Ver',\r\n          icon: !this.platform.is('ios') ? 'eye' : null,\r\n          handler: () => {\r\n            this.navCtrl.push(ProductDetailPage, {\r\n              product: product\r\n            });\r\n          }\r\n        }, {\r\n          text: 'Editar',\r\n          icon: !this.platform.is('ios') ? 'create' : null,\r\n          handler: () => {\r\n            this.navCtrl.push(ProductUpdatePage, {\r\n              product: product,\r\n              selectedProductCategoryId: this.selectedCategory.id,\r\n              selectedProductTypeId: this.selectedType.id,\r\n            });\r\n          }\r\n        }, {\r\n          text: 'Eliminar',\r\n          icon: !this.platform.is('ios') ? 'trash' : null,\r\n          handler: () => {\r\n            this.removeProduct(product);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    actionSheet.present();\r\n  }\r\n\r\n  /** Product options functions */\r\n\r\n  changeCategory(event) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getProductCategoriesAlert(this.selectedCategory);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        console.log(data);\r\n        this.selectedCategory = data\r\n\r\n        this.selectedType = this.productTypes[0];\r\n        this.productTypes = this.settingsProvider.getProductTypesWithAll(this.selectedCategory.id);\r\n        this.productPrices = this.settingsProvider.getProductPrices(this.selectedCategory.id, this.selectedType.id);\r\n\r\n        this.selectedPrice = this.productPrices.length > 0 ?\r\n          this.productPrices[0] : {};\r\n\r\n        if (this.selectedCategory.id === '') {\r\n          this.initFavorites();\r\n        } else {\r\n          this.searchProducts();\r\n        }\r\n\r\n      }\r\n    })\r\n\r\n    alert.present();\r\n  }\r\n\r\n  changeType(event) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getProductTypesAlert(this.selectedCategory, this.selectedType);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        console.log(data);\r\n        this.selectedType = data\r\n        this.searchProducts();\r\n      }\r\n    })\r\n\r\n    alert.present();\r\n  }\r\n\r\n  changePrice(event) {\r\n    event.stopPropagation();\r\n\r\n    let alert: Alert = this.util.getProductPricesAlert(this.selectedCategory, this.selectedType, this.selectedPrice);\r\n    alert.addButton({\r\n      text: 'Guardar',\r\n      handler: data => {\r\n        console.log(data);\r\n        this.selectedPrice = data\r\n        this.searchProducts();\r\n      }\r\n    })\r\n\r\n    alert.present();\r\n  }\r\n\r\n  /** Private functions */\r\n\r\n  private setDefaultValues() {\r\n    this.productCategories = this.settingsProvider.getProductCategoriesWithAll();\r\n    this.productTypes = this.settingsProvider.getProductTypesWithAll('');\r\n    this.productPrices = this.settingsProvider.getProductPrices('', '');\r\n  }\r\n\r\n  private setupKeyboard() {\r\n    this.keyboard.onKeyboardHide().subscribe(() => {\r\n      this.blurSearchBar();\r\n    });\r\n  }\r\n\r\n  private blurSearchBar() {\r\n    const searchInput = this.elRef.nativeElement.querySelector('.searchbar-input')\r\n    this.renderer\r\n      .invokeElementMethod(searchInput, 'blur');\r\n  }\r\n\r\n  private removeProduct(productToDelete) {\r\n    let removeProductAlert: Alert = this.util.getRemoveProductAlert(productToDelete.name);\r\n\r\n    removeProductAlert.addButton({\r\n      text: 'Borralo!',\r\n      handler: () => {\r\n        let removeProductLoader =\r\n          this.notifier.createLoader(`Borrando el Producto ${productToDelete.name}`);\r\n        this.productsProvider.remove(productToDelete).subscribe(() => {\r\n          this.products =\r\n            this.products.filter(product => product.name !== productToDelete.name)\r\n          this.updateFavoritesInBackground();\r\n          removeProductLoader.dismiss();\r\n        });\r\n      }\r\n    });\r\n\r\n    removeProductAlert.present();\r\n  }\r\n\r\n  private initFavorites() {\r\n    this.page = 0;\r\n    this.productsProvider.getFavorites(this.params.data.productCategory)\r\n      .then(cachedFavorites => {\r\n        if (cachedFavorites && cachedFavorites.length > 0) {\r\n          console.log(\"Favorites pulled from storage...\");\r\n          this.products = cachedFavorites;\r\n          this.updateFavoritesInBackground();\r\n        } else {\r\n          console.log(\"Favorites pulled from the server...\");\r\n          let loader = this.notifier.createLoader(\"Cargando Novedades\");\r\n          this.productsProvider.loadFavoritesFromServer(this.params.data.productCategory)\r\n            .map(productsObject => productsObject.items)\r\n            .subscribe(products => {\r\n              this.products = products\r\n              loader.dismiss();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  private updateFavoritesInBackground() {\r\n    // Update storage in background with server response.\r\n    console.log(\"Updating product favorites in background\");\r\n    this.productsProvider.loadFavoritesFromServer(this.params.data.productCategory)\r\n      .subscribe();\r\n  }\r\n\r\n  private initSearchQuery() {\r\n    this.searchQuery.valueChanges\r\n      .filter(query => query)\r\n      .filter(query => this.connection.isConnected())\r\n      .debounceTime(100)\r\n      .distinctUntilChanged()\r\n      .switchMap(query => this.productsProvider.get({\r\n        tags: query,\r\n        categoryId: this.selectedCategory.id,\r\n        typeId: this.selectedType.id\r\n      }))\r\n      .map(productsObject => productsObject.items)\r\n      .subscribe(products => {\r\n        this.page = 1;\r\n        this.products = products\r\n      });\r\n\r\n    this.searchQuery.valueChanges\r\n      .filter(query => query)\r\n      .filter(query => !this.connection.isConnected())\r\n      .subscribe(() => this.notifier.createToast(this.messages.noInternetError));\r\n\r\n    this.searchQuery.valueChanges\r\n      .filter(query => !query)\r\n      .subscribe(() => this.initFavorites());\r\n  }\r\n\r\n  private searchProducts = () => {\r\n    const query = {\r\n      tags: this.searchQuery.value,\r\n      categoryId: this.selectedCategory.id,\r\n      typeId: this.selectedType.id\r\n    };\r\n\r\n    console.log(query);\r\n\r\n    this.productsProvider.get(query).subscribe(products => {\r\n      this.page = 1;\r\n      this.products = products.items;\r\n    }, null,\r\n      () => {\r\n        console.log('Finished pulling page 1 of products');\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.ts","import { cloneDeep } from 'lodash';\r\nimport { Component } from '@angular/core';\r\nimport { Camera } from 'ionic-native';\r\nimport { NavParams, AlertController, NavController } from 'ionic-angular';\r\n\r\nimport { Products } from '../../../providers/products';\r\nimport { ProductsUtil } from './../products-util';\r\nimport { TunariNotifier } from '../../../providers/tunari-notifier';\r\nimport { SettingsCache } from '../../../providers/settings-cache';\r\nimport { TunariMessages } from '../../../providers/tunari-messages';\r\n\r\nimport { Product, updateProductPatch } from '../../../models/product';\r\n\r\n@Component({\r\n  selector: 'product-update',\r\n  templateUrl: 'product-update.html',\r\n  providers: [ProductsUtil]\r\n})\r\nexport class ProductUpdatePage {\r\n\r\n  segment = 'general';\r\n\r\n  imagePreview: string;\r\n\r\n  tmpImageData: string;\r\n\r\n  isInvitation: boolean;\r\n\r\n  product: Product;\r\n\r\n  originalProduct: Product;\r\n\r\n  productCategories: any[];\r\n\r\n  priceTypes: any[]\r\n\r\n  productTypes: any[];\r\n\r\n  productPrices: any[];\r\n\r\n\r\n  constructor(public navParams: NavParams,\r\n    private alertCtrl: AlertController,\r\n    public navCtrl: NavController,\r\n    public util: ProductsUtil,\r\n    public productsProvider: Products,\r\n    public notifier: TunariNotifier,\r\n    private settingsProvider: SettingsCache,\r\n    private messages: TunariMessages) {\r\n\r\n    this.originalProduct = this.navParams.data.product;\r\n    this.product = cloneDeep(this.navParams.data.product);\r\n\r\n    this.initProperties();\r\n  }\r\n\r\n  public updateCategory() {\r\n    this.productTypes = this.settingsProvider.getProductTypes(this.product.categoryId);\r\n    this.product.typeId = '0';\r\n    this.initProductPrices();\r\n  }\r\n\r\n  public updateType() {\r\n    this.initProductPrices();\r\n  }\r\n\r\n  public initProperties() {\r\n    this.productCategories = this.settingsProvider.getProductCategories();\r\n    this.product.categoryId = this.product.categoryId ||\r\n      this.navParams.data.selectedProductCategoryId ||\r\n      '0';\r\n    this.productTypes = this.settingsProvider.getProductTypes(this.product.categoryId);\r\n\r\n    this.product.typeId = this.product.typeId ||\r\n      this.navParams.data.selectedProductTypeId ||\r\n      '0';\r\n\r\n    this.product.tags = this.product.tags || [];\r\n    this.product.locations = this.product.locations || [];\r\n\r\n    this.initProductPrices();\r\n  }\r\n\r\n  initProductPrices() {\r\n    this.productPrices = this.settingsProvider.getProductPrices(\r\n      this.product.categoryId || '0',\r\n      this.product.typeId || '0');\r\n\r\n    const newPrices = this.productPrices.map(priceType => {\r\n      const productPrice = this.product.prices.find(price => price.priceId === priceType.id);\r\n      return {\r\n        priceId: priceType.id,\r\n        name: priceType.name,\r\n        value: productPrice ? productPrice.value : 0\r\n      }\r\n    });\r\n\r\n    this.product.prices = newPrices;\r\n  }\r\n\r\n  addTag() {\r\n    let addTagAlert = this.alertCtrl.create({\r\n      title: 'Agregar Etiqueta',\r\n      message: this.product.name,\r\n      inputs: [\r\n        {\r\n          name: 'newTag',\r\n          placeholder: 'Nueva Etiqueta'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n        },\r\n        {\r\n          text: 'Agregar',\r\n          handler: data => {\r\n            this.product.tags.unshift(data.newTag);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    addTagAlert.present();\r\n  }\r\n\r\n  pickPicture() {\r\n    Camera.getPicture({\r\n      destinationType: Camera.DestinationType.DATA_URL,\r\n      sourceType: Camera.PictureSourceType.PHOTOLIBRARY,\r\n    }).then((imageData) => {\r\n      this.imagePreview = \"data:image/jpeg;base64,\" + imageData;\r\n      this.tmpImageData = imageData;\r\n    }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  takePicture() {\r\n    Camera.getPicture({\r\n      destinationType: Camera.DestinationType.DATA_URL,\r\n    }).then((imageData) => {\r\n      this.imagePreview = \"data:image/jpeg;base64,\" + imageData;\r\n      this.tmpImageData = imageData;\r\n    }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  save() {\r\n    let createProductLoader = this.notifier.createLoader(`Guardando producto ${this.product.name}`);\r\n    this.product.isImgUploading = true;\r\n    this.productsProvider.save(this.product).subscribe((updatedProduct: any) => {\r\n      updateProductPatch(this.originalProduct, updatedProduct);\r\n      this.updateFavoritesInBackground();\r\n\r\n      this.productsProvider.updateProductImg(updatedProduct.id, this.tmpImageData)\r\n        .subscribe((updatedProduct: any) => {\r\n          console.log('updating after upload')\r\n          updateProductPatch(this.originalProduct, updatedProduct);\r\n          this.updateFavoritesInBackground();\r\n        });\r\n\r\n      this.navCtrl.pop(updatedProduct);\r\n      createProductLoader.dismiss();\r\n    }, error => {\r\n      this.navCtrl.pop();\r\n      createProductLoader.dismiss();\r\n      this.notifier.createToast(this.messages.errorWhenSavingProduct);\r\n    });\r\n  }\r\n\r\n  removeTag(tagToRemove: string) {\r\n    this.product.tags = this.product.tags.filter(tag => tag !== tagToRemove);\r\n  }\r\n\r\n  addWarehouseLocation() {\r\n    this.addLocation(\"Deposito\");\r\n  }\r\n\r\n  addStoreLocation() {\r\n    this.addLocation(\"Tienda\");\r\n  }\r\n\r\n  private addLocation(type: string) {\r\n    let addLocationAlert = this.alertCtrl.create({\r\n      title: 'Agregar Ubicacion',\r\n      message: type,\r\n      inputs: [\r\n        {\r\n          name: 'newLocation',\r\n          placeholder: 'Nueva Ubicacion'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n        },\r\n        {\r\n          text: 'Agregar',\r\n          handler: data => {\r\n            this.product.locations.unshift({\r\n              type: type,\r\n              value: data.newLocation\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    addLocationAlert.present();\r\n  }\r\n\r\n  removeLocation(locationToRemove) {\r\n    this.product.locations = this.product.locations.filter(location => location !== locationToRemove);\r\n  }\r\n\r\n  private updateFavoritesInBackground() {\r\n    console.log(\"Updating product favorites in background\");\r\n    // Just update, no need to retrieve the favorites so sending \"\"\r\n    // to this method\r\n    this.productsProvider.loadFavoritesFromServer(\"\")\r\n      .subscribe();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-update/product-update.ts","import { Injectable } from '@angular/core';\r\nimport { AlertController, Alert } from 'ionic-angular';\r\n\r\nimport { SettingsCache } from '../../providers/settings-cache';\r\n\r\nimport { Product } from '../../models/product';\r\n\r\n/**\r\n * Utility class for products endpoint provider. \r\n */\r\n@Injectable()\r\nexport class ProductsUtil {\r\n\r\n  constructor(public alertCtrl: AlertController,\r\n    private settingsProvider: SettingsCache) { }\r\n\r\n  /* *Get Alert helper methods */\r\n\r\n  getSelectPriceAlert(selectedProductCategory: string, selectedPrice: number): Alert {\r\n    let productCategory =\r\n      this.settingsProvider.getProductCategories().filter(category => category.name == selectedProductCategory)[0];\r\n\r\n    let alert = this.alertCtrl.create();\r\n\r\n    alert.setTitle('Precio');\r\n\r\n    productCategory.priceTypes.forEach(priceType => {\r\n      alert.addInput({\r\n        type: 'radio',\r\n        label: priceType.name,\r\n        value: priceType.id,\r\n        checked: selectedPrice === priceType.id\r\n      });\r\n    });\r\n\r\n    alert.addButton('Cancel');\r\n\r\n    return alert;\r\n  }\r\n\r\n  getAddPriceAlert(product: Product, selectedPriceType: any) {\r\n\r\n    const priceToUpdate = product.prices.find(price => price.priceId === selectedPriceType.id);\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: product.name,\r\n      message: selectedPriceType.name,\r\n      inputs: [\r\n        {\r\n          name: 'price',\r\n          type: 'number',\r\n          placeholder: 'Agrega un precio!',\r\n          value: \"\" + (priceToUpdate ? priceToUpdate.value : \"\")\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getAddQuantityAlert(product: Product) {\r\n    let alert = this.alertCtrl.create({\r\n      title: product.name,\r\n      message: \"Cantidad\",\r\n      inputs: [\r\n        {\r\n          name: 'quantity',\r\n          type: 'number',\r\n          placeholder: 'Especifica la cantidad!',\r\n          value: \"\" + product.quantity\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getCreateSellingAlert(product: Product, selectedPriceId: string) {\r\n    const selectedPrice = product.prices.find(price => price.priceId === selectedPriceId);\r\n    let alert = this.alertCtrl.create({\r\n      title: `Venta ${product.name}`,\r\n      message: `${selectedPrice.name}: ${selectedPrice.value} Bs.`,\r\n      inputs: [\r\n        {\r\n          name: 'quantity',\r\n          type: 'number',\r\n          placeholder: 'Especifica la cantidad!'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getRemoveProductAlert(productName: string) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Borrando!',\r\n      message: `Estas Seguro de borrar el producto ${productName}`,\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getProductCategoriesAlert(selectedCategory: any) {\r\n    const categoryInputs = this.settingsProvider.getProductCategoriesWithAll()\r\n      .map(category => ({\r\n        label: category.name,\r\n        value: category,\r\n        type: 'radio',\r\n        checked: selectedCategory.id === category.id\r\n      }));\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Categorias',\r\n      message: 'Selecciona una categoria',\r\n      inputs: categoryInputs,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getProductTypesAlert(selectedCategory: any, selectedType: any) {\r\n    console.log('')\r\n    const typeInputs = this.settingsProvider.getProductTypesWithAll(selectedCategory.id)\r\n      .map(type => ({\r\n        label: type.name,\r\n        value: type,\r\n        type: 'radio',\r\n        checked: selectedType.id === type.id\r\n      }));\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Tipos',\r\n      message: 'Selecciona un tipo',\r\n      inputs: typeInputs,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getProductPricesAlert(selectedCategory: any, selectedType: any, selectedPrice: any) {\r\n    console.log('')\r\n    const priceInputs = this.settingsProvider.getProductPrices(selectedCategory.id, selectedType.id)\r\n      .map(price => ({\r\n        label: price.name,\r\n        value: price,\r\n        type: 'radio',\r\n        checked: selectedPrice.id === price.id\r\n      }));\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Tipos',\r\n      message: 'Selecciona un tipo',\r\n      inputs: priceInputs,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    return alert;\r\n  }\r\n\r\n  getPriceTypes(selectedProductCategory: string): any[] {\r\n    // let productCategory =\r\n    //   this.settingsProvider\r\n    //   .getProductCategories()\r\n    //   .filter(category => category.name == selectedProductCategory)[0];\r\n\r\n    return [{}];\r\n    // return productCategory.priceTypes;\r\n  }\r\n\r\n  getSelectedPriceText(selectedCategory: string, priceTypeId: number): string {\r\n    // let priceName =\r\n    //   this.settingsProvider\r\n    //   .getProductCategories()\r\n    //   .filter(category => category.name == selectedCategory)[0]\r\n    //   .priceTypes[priceTypeId]\r\n    //   .name;\r\n\r\n    return '';\r\n    // return priceName;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products-util.ts","import { ProductPrice } from \"./product-price\";\r\n\r\n/**\r\n * Product model.\r\n */\r\nexport class Product {\r\n\r\n  id: string;\r\n\r\n  name: string;\r\n\r\n  categoryId: string;\r\n\r\n  typeId: string;\r\n\r\n  description: string;\r\n\r\n  // imageData: string;\r\n\r\n  prices: ProductPrice[] = [];\r\n\r\n  buyingUnitPrice: number;\r\n\r\n  locations: any[];\r\n\r\n  isFavorite: boolean;\r\n\r\n  publicPackagePrice: number;\r\n\r\n  publicUnitPrice: number;\r\n\r\n  clientPackagePrice: number;\r\n\r\n  clientUnitPrice: number;\r\n\r\n  thumbnailUrl: string;\r\n\r\n  previewUrl: string;\r\n\r\n  imageUrl: string;\r\n\r\n  provider: string;\r\n\r\n  quantityPerPackage: number;\r\n\r\n  quantity: number;\r\n\r\n  tags: string[];\r\n\r\n  isImgUploading: boolean;\r\n}\r\n\r\nexport const updateProductPatch = (original: Product, newData: Product) => {\r\n  original.id = newData.id;\r\n  original.name = newData.name;\r\n  original.thumbnailUrl = newData.thumbnailUrl;\r\n  original.previewUrl = newData.previewUrl;\r\n  original.prices = newData.prices;\r\n  original.quantity = newData.quantity;\r\n  original.description = newData.description;\r\n  original.isImgUploading = newData.isImgUploading;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/product.ts","import { Injectable } from '@angular/core';\r\nimport { Network } from \"@ionic-native/network\";\r\n\r\ndeclare var navigator: any;\r\n\r\n/**\r\n * Connection helper. \r\n */\r\n@Injectable()\r\nexport class Connection {  \r\n  \r\n  constructor(public network: Network) {\r\n\r\n  }\r\n\r\n  isConnected(): boolean {       \r\n    return navigator.onLine;    \r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/connection.ts","import { RequestOptions, URLSearchParams } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { TunariApi } from './tunari-api';\r\n\r\n/**\r\n * Sellings endpoint provider. \r\n */\r\n@Injectable()\r\nexport class Sellings {\r\n\r\n  baseUrl: string;\r\n\r\n  endpoint: string = \"sellings\";\r\n\r\n  constructor(public api: TunariApi) { }\r\n\r\n  get() {\r\n    return this.api.get(this.endpoint);\r\n  }\r\n\r\n  getByDate(date: Date) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('createdAt', String(date));\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.get(this.endpoint, requestOptions);\r\n  }\r\n\r\n  save(selling) {\r\n    if (selling.id) {\r\n      return this.put(selling);\r\n    } else {\r\n      return this.post(selling);\r\n    }\r\n  }\r\n\r\n  post(selling) {\r\n    return this.api.post(this.endpoint, selling);\r\n  }\r\n\r\n  put(selling) {\r\n    return this.api.put(`${this.endpoint}/${selling.id}`, selling);\r\n  }\r\n\r\n  remove(selling, shouldUpdateQuantity: boolean) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('shouldUpdateQuantity', String(shouldUpdateQuantity));\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.remove(`${this.endpoint}/${selling.id}`, requestOptions);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sellings.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 156;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 156\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 202;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 202\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { NavController } from 'ionic-angular';\r\n\r\nimport { ProductsPage } from '../../pages/products/products';\r\n\r\nimport { Login } from '../../providers/login';\r\nimport { SettingsCache } from '../../providers/settings-cache';\r\nimport { TunariMessages } from '../../providers/tunari-messages';\r\nimport { TunariNotifier } from '../../providers/tunari-notifier';\r\nimport { TunariStorage } from '../../providers/tunari-storage';\r\n\r\nimport { UserToken } from '../../models/user-token';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n  login: { username?: string, password?: string } = {};\r\n  submitted: boolean = false;\r\n  isLoggedIn: boolean = true;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public loginService: Login,\r\n    public settingsProvider: SettingsCache,\r\n    public notifier: TunariNotifier,\r\n    public storage: TunariStorage,\r\n    public messages: TunariMessages) {\r\n    this.storage.getAuthtoken().then(token => {\r\n      if (!token) {\r\n        this.isLoggedIn = false;\r\n      } else {\r\n        this.loadConfiguration();\r\n      }\r\n    });\r\n  }\r\n\r\n  onLogin(form: NgForm) {\r\n    this.submitted = true;\r\n\r\n    if (form.valid) {\r\n      let loader = this.notifier.createLoader(this.messages.authenticating);\r\n      this.loginService.post(this.login.username, this.login.password)\r\n        .subscribe(resp => {\r\n          const userToken: UserToken = resp;\r\n          if (userToken.role === 0) {\r\n            this.storage.setAuthToken(userToken.authToken).then(() => {\r\n              console.log(\"Token Authentication has been provided by the server\");\r\n              this.settingsProvider.setSettings(userToken.settings);\r\n              loader.dismiss();\r\n              this.navCtrl.setRoot(ProductsPage);\r\n            });\r\n          } else {\r\n            loader.dismiss();\r\n            this.notifier.createToast(this.messages.notAdminUser);\r\n          }\r\n        }, error => {\r\n          loader.dismiss();\r\n          this.notifier.createToast(this.messages.invalidUser);\r\n        });\r\n    }\r\n  }\r\n\r\n  private loadConfiguration() {\r\n    console.log(\"Loading settings from storages...\");\r\n    this.settingsProvider.loadFromStorage().then(settings => {\r\n      if (settings) {\r\n        console.log(\"Settings loaded from local storage...\");\r\n        this.navCtrl.setRoot(ProductsPage);\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { ProductUpdatePage } from '../product-update/product-update';\r\n\r\nimport { Product } from '../../../models/product';\r\n\r\nimport { ProductsUtil } from './../products-util';\r\nimport { SettingsCache } from '../../../providers/settings-cache';\r\n\r\n@Component({\r\n  selector: 'product-detail',\r\n  templateUrl: 'product-detail.html',\r\n  providers: [ProductsUtil]\r\n})\r\nexport class ProductDetailPage {\r\n\r\n  segment = 'prices';\r\n\r\n  product: Product;\r\n\r\n  productPrices: any[];\r\n\r\n  constructor(public navParams: NavParams,\r\n    public navCtrl: NavController,\r\n    public settingsProvider: SettingsCache) {\r\n    this.product = this.navParams.data.product;\r\n    this.productPrices = this.settingsProvider.getProductPrices(\r\n      this.product.categoryId, this.product.typeId);\r\n\r\n    const newPrices = this.productPrices.map(priceType => {\r\n      const productPrice = this.product.prices.find(price => price.priceId === priceType.id);\r\n      return {\r\n        priceId: priceType.id,\r\n        name: priceType.name,\r\n        value: productPrice ? productPrice.value : 0\r\n      }\r\n    });\r\n\r\n    this.product.prices = newPrices;\r\n  }\r\n\r\n  editProduct() {\r\n    this.navCtrl.push(ProductUpdatePage, {\r\n      product: this.product\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-detail/product-detail.ts","import { DomSanitizer } from '@angular/platform-browser';\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, ResponseContentType, RequestOptions } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Events } from 'ionic-angular';\r\nimport 'rxjs/add/observable/fromPromise';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/mergeMap';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\nimport { TunariStorage } from './tunari-storage';\r\n\r\n/**\r\n * Tunari Api, generic REST api handler.\r\n */\r\n@Injectable()\r\nexport class TunariApi {\r\n\r\n  baseUrl: string = 'https://imptunari.herokuapp.com/api/';\r\n\r\n  // baseUrl: string = 'http://localhost:5000/api/';\r\n\r\n  authKey: string = 'authorization';\r\n\r\n  headers: Headers;\r\n\r\n  multipartHeaders: Headers;\r\n\r\n  constructor(public http: Http, public storage: TunariStorage,\r\n    public sanitizer: DomSanitizer, public events: Events) {\r\n    this.headers = new Headers({ 'Content-Type': 'application/json' });\r\n    this.multipartHeaders = new Headers({});\r\n  }\r\n\r\n  get(endpoint: string, requestOptions: RequestOptions = new RequestOptions()) {\r\n    let url = this.baseUrl + endpoint;\r\n    requestOptions.headers = new Headers(this.headers);\r\n\r\n    return this.getApiToken().flatMap(token => {\r\n      if (token) {\r\n        requestOptions.headers.append(this.authKey, 'Bearer ' + token);\r\n      }\r\n\r\n      return this.http.get(url, requestOptions)\r\n        .map(resp => resp.json().data).catch(this.catchErrors());\r\n    });\r\n  }\r\n\r\n  post(endpoint: string, body: any) {\r\n    let url = this.baseUrl + endpoint;\r\n    let requestOptions = new RequestOptions();\r\n    requestOptions.headers = new Headers(this.headers);\r\n\r\n    return this.getApiToken().flatMap(token => {\r\n      if (token) {\r\n        requestOptions.headers.append(this.authKey, 'Bearer ' + token);\r\n      }\r\n\r\n      return this.http\r\n        .post(url, body, requestOptions)\r\n        .map(resp => resp.json().data);\r\n    });\r\n  }\r\n\r\n  postImage(endpoint: string, imageData: any) {\r\n    let url = this.baseUrl + endpoint;\r\n    let requestOptions = new RequestOptions();\r\n    requestOptions.headers = new Headers(this.multipartHeaders);\r\n\r\n    return this.getApiToken().flatMap(token => {\r\n      if (token) {\r\n        requestOptions.headers.append(this.authKey, 'Bearer ' + token);\r\n      }\r\n\r\n      let blob = new Blob();\r\n      if (imageData) {\r\n        const binary = this.fixBinary(atob(imageData));\r\n        blob = new Blob([binary]);\r\n      }\r\n\r\n\r\n      let formData = new FormData();\r\n      formData.append('file', blob);\r\n\r\n      return this.http\r\n        .post(url, formData, requestOptions)\r\n        .map(resp => resp.json().data);\r\n    });\r\n  }\r\n\r\n  put(endpoint: string, body: any) {\r\n    let url = this.baseUrl + endpoint;\r\n    let requestOptions = new RequestOptions();\r\n    requestOptions.headers = new Headers(this.headers);\r\n\r\n    return this.getApiToken().flatMap(token => {\r\n      if (token) {\r\n        requestOptions.headers.append(this.authKey, 'Bearer ' + token);\r\n      }\r\n\r\n      return this.http.put(url, body, requestOptions)\r\n        .map(resp => resp.json().data);\r\n    });\r\n  }\r\n\r\n  remove(endpoint: string, requestOptions: RequestOptions = new RequestOptions()) {\r\n    let url = this.baseUrl + endpoint;\r\n    requestOptions.headers = new Headers(this.headers);\r\n\r\n    return this.getApiToken().flatMap(token => {\r\n      if (token) {\r\n        requestOptions.headers.append(this.authKey, 'Bearer ' + token);\r\n      }\r\n\r\n      return this.http.delete(url, requestOptions)\r\n        .map(resp => resp.json());\r\n    });\r\n  }\r\n\r\n  getImage(productUrl: string) {\r\n    let requestOptions = new RequestOptions({\r\n      headers: new Headers(),\r\n      responseType: ResponseContentType.Blob\r\n    });\r\n\r\n    return this.http.get(productUrl, requestOptions)\r\n      .map(res => res.blob())\r\n      .map(blob => URL.createObjectURL(blob));\r\n  }\r\n\r\n  private getApiToken(): Observable<Headers> {\r\n    return Observable.fromPromise(this.storage.getAuthtoken());\r\n  }\r\n\r\n  private fixBinary(bin) {\r\n    var length = bin.length;\r\n    var buf = new ArrayBuffer(length);\r\n    var arr = new Uint8Array(buf);\r\n    for (var i = 0; i < length; i++) {\r\n      arr[i] = bin.charCodeAt(i);\r\n    }\r\n    return buf;\r\n  }\r\n\r\n  private catchErrors() {\r\n\r\n    return (res: Response) => {\r\n\r\n      if (res.status === 401 || res.status === 403) {\r\n        console.log(\"Invalid or expired token. Redirecting to login\");\r\n\r\n        this.events.publish('user:logout');\r\n      }\r\n      return Observable.throw(res);\r\n    };\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tunari-api.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { Settings } from './settings';\r\nimport { TunariStorage } from './tunari-storage';\r\n\r\n/**\r\n * Settings Cache provider. \r\n */\r\n@Injectable()\r\nexport class SettingsCache {\r\n\r\n  settings: any;\r\n\r\n  constructor(public settingsProvider: Settings,\r\n    public storage: TunariStorage) {\r\n  }\r\n\r\n  getImgServerUrl(): string {\r\n    return this.settings.filter(setting => setting.key === 'imgServer')[0].value;\r\n  }\r\n\r\n  getProductCategoriesWithAll(): any[] {\r\n    return [{ id: '', name: 'Todas' }, ...this.settings.productCategories];\r\n  }\r\n\r\n  getProductTypesWithAll(categoryId: string): any[] {\r\n    return [{ id: '', name: 'Todos' }, ...this.getProductTypes(categoryId)];\r\n  }\r\n\r\n  getProductCategories(): any[] {\r\n    return this.settings.productCategories;\r\n  }\r\n\r\n  getProductTypes(categoryId: string): any[] {\r\n    const filteredTypes = categoryId ?\r\n      this.settings.productTypes.filter(type => type.categoryId === categoryId) :\r\n      [];\r\n\r\n    return filteredTypes;\r\n  }\r\n\r\n  getProductPrices(categoryId: string, typeId: string): any[] {\r\n    if (!categoryId && !typeId) {\r\n      return this.settings.productPrices;\r\n    }\r\n\r\n    let assignedPrices = typeId ?\r\n      this.settings.productTypes\r\n        .find(type => (type.id === typeId && type.categoryId === categoryId)).prices :\r\n      this.settings.productCategories.find(category => category.id === categoryId).prices;\r\n\r\n    return assignedPrices;\r\n  }\r\n\r\n  getInvitationTypes(): string[] {\r\n    return this.settings.filter(setting => setting.key === 'invitationTypes')[0].value;\r\n  }\r\n\r\n  loadFromStorage() {\r\n    console.log('loading sotrage')\r\n    return this.storage.getSettings().then(settings => {\r\n      console.log(settings)\r\n      this.setSettings(settings);\r\n      return settings;\r\n    });\r\n  }\r\n\r\n  setSettings(settings: any) {\r\n    this.settings = settings;\r\n    this.storage.setSettings(settings);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings-cache.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n/**\r\n * Tunari wrapper to access storage.\r\n */\r\n@Injectable()\r\nexport class TunariStorage {\r\n\r\n  private authTokenKey: string = \"authToken\";\r\n\r\n  private settingsKey: string = \"settings\";\r\n\r\n  private productFavoritesKey: string = \"productFavorites\";\r\n\r\n  constructor(public storage: Storage) { }\r\n\r\n  public getAuthtoken() {\r\n    return this.getValue(this.authTokenKey);\r\n  }\r\n\r\n  public setAuthToken(value: string) {\r\n    return this.setValue(this.authTokenKey, value);\r\n  }\r\n\r\n  public getSettings() {\r\n    console.log('get keeys2');\r\n    return this.getValue(this.settingsKey).then(settings => {\r\n      return JSON.parse(settings);\r\n    });\r\n  }\r\n\r\n  public setSettings(value: any) {\r\n    console.log(value)\r\n    this.setValue(this.settingsKey, JSON.stringify(value));\r\n  }\r\n\r\n  public getProductFavorites() {\r\n    return this.getValue(this.productFavoritesKey).then(favorites => {\r\n      return JSON.parse(favorites);\r\n    });\r\n  }\r\n\r\n  public setProductFavorites(value: any) {\r\n    this.setValue(this.productFavoritesKey, JSON.stringify(value));\r\n  }\r\n\r\n  public removeStorage() {\r\n    this.storage.clear();\r\n  }\r\n\r\n  private getValue(key: string) {\r\n    return this.storage.get(key);\r\n  }\r\n\r\n  private setValue(key: string, value: string) {\r\n    return this.storage.set(key, value);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tunari-storage.ts","import { Injectable } from '@angular/core';\r\nimport { LoadingController, Loading, ToastController, Toast } from 'ionic-angular';\r\n\r\n/**\r\n * Notifications service helper. \r\n */\r\n@Injectable()\r\nexport class TunariNotifier {  \r\n\r\n  constructor(public loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController) {}\r\n\r\n  createToast(message: string): Toast {\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: 2000,\r\n      position: 'bottom'      \r\n    });\r\n\r\n    toast.present();\r\n    return toast;\r\n  }\r\n\r\n  createLoader(message: string): Loading {\r\n    let loader = this.loadingCtrl.create();  \r\n    loader.setContent(message);\r\n    loader.present();\r\n\r\n    return loader;\r\n  }  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tunari-notifier.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { TunariApi } from './tunari-api';\r\n\r\n/**\r\n * Settings endpoint provider. \r\n */\r\n@Injectable()\r\nexport class Settings {\r\n\r\n  baseUrl: string;\r\n\r\n  endpoint: string = \"settings\";\r\n\r\n  constructor(public api: TunariApi) {}\r\n\r\n  get() {\r\n    return this.api.get(this.endpoint);\r\n  }  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { TunariApi } from './tunari-api';\r\n\r\n/**\r\n * Login endpoint provider. \r\n */\r\n@Injectable()\r\nexport class Login {\r\n\r\n  baseUrl: string;\r\n\r\n  endpoint: string = \"auth\";\r\n\r\n  constructor(public api: TunariApi) {\r\n    this.baseUrl = this.api.baseUrl;\r\n  }\r\n\r\n  post(userName: string, password: string) {    \r\n\r\n    return this.api.post(this.endpoint, { \r\n      userName: userName,\r\n      password: password\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/login.ts","import { Component } from '@angular/core';\r\n\r\nimport { ProductsPage } from '../products/products';\r\n\r\n@Component({\r\n  selector: 'products-tabs',\r\n  templateUrl: 'products-tabs.html'\r\n})\r\nexport class ProductsTabsPage {\r\n  bookStoreParams: any = { productCategory: 'Libreria'};\r\n  invitationsParams: any = { productCategory: 'Invitaciones'};\r\n  \r\n  tab1Root: any = ProductsPage;\r\n  tab2Root: any = ProductsPage;\r\n\r\n  tab1Title = \"Invitaciones\";\r\n  tab2Title = \"Libreria\";\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products-tabs/products-tabs.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\nimport { ProductSellingUpdatePage } from './product-selling-update/product-selling-update';\r\n\r\nimport * as _ from \"lodash\";\r\nimport * as moment from 'moment';\r\n\r\nimport { Transactions } from '../../providers/transactions';\r\n\r\nimport { Selling } from '../../models/selling';\r\n\r\n@Component({\r\n    selector: 'products-sellings',\r\n    templateUrl: 'products-sellings.html'\r\n})\r\nexport class ProductsSellingsPage {\r\n    private sellings: Selling[];\r\n\r\n    private groupedSellings = [];\r\n\r\n    filterDate: Date;\r\n\r\n    constructor(public transactionsProvider: Transactions,\r\n        public navCtrl: NavController) { }\r\n\r\n    ionViewWillEnter() {\r\n        this.transactionsProvider.get()\r\n            .subscribe(transactionsObject => {\r\n                console.log(transactionsObject)\r\n                this.formatTransactions(transactionsObject);\r\n            });\r\n    }\r\n\r\n    editSelling(selling: Selling) {\r\n        this.navCtrl.push(ProductSellingUpdatePage, {\r\n            selling: selling\r\n        });\r\n    }\r\n\r\n    filterByDate() {\r\n        if (this.filterDate) {\r\n            this.transactionsProvider.getByDate(this.filterDate)\r\n                .subscribe(sellingsObject => {\r\n                    this.formatTransactions(sellingsObject);\r\n                });\r\n        } else {\r\n            this.transactionsProvider.get()\r\n                .subscribe(sellingsObject => {\r\n                    this.formatTransactions(sellingsObject);\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n    private formatTransactions(transactionsObject) {\r\n        this.sellings = _.orderBy(transactionsObject.items, ['createdAt'], ['desc']);\r\n\r\n        this.groupedSellings = _.each(this.sellings, selling => selling.time = moment(selling.createdAt).format('h:mm a'));\r\n        this.groupedSellings = _.groupBy(this.groupedSellings, selling => moment(selling.createdAt).format('dddd, Do MMMM YYYY'))\r\n        this.groupedSellings = _.map(this.groupedSellings, function (sellings, day) { return { day: day, sellings: sellings }; });\r\n    }\r\n\r\n    clearFilterDate() {\r\n        this.filterDate = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products-sellings/products-sellings.ts","import { Component } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NavController, NavParams, Alert } from 'ionic-angular';\r\nimport * as _ from \"lodash\";\r\n\r\nimport { TunariNotifier } from '../../../providers/tunari-notifier';\r\nimport { ProductsSellingsUtil } from './../products-sellings-util';\r\nimport { Products } from '../../../providers/products';\r\nimport { Sellings } from '../../../providers/sellings';\r\n\r\nimport { Selling } from '../../../models/selling';\r\nimport { Product } from '../../../models/product';\r\n\r\n@Component({\r\n    selector: 'product-selling-update',\r\n    templateUrl: 'product-selling-update.html',\r\n    providers: [ProductsSellingsUtil]\r\n})\r\nexport class ProductSellingUpdatePage {\r\n\r\n    private INVITATION_TYPE: string = 'Invitaciones';\r\n\r\n    isInvitation: boolean;\r\n\r\n    selling: Selling;\r\n\r\n    product: Product;\r\n\r\n    priceIdFromOptions: string;\r\n\r\n    quantityForPrice: number;\r\n\r\n    priceTypes: any[]\r\n\r\n    private formPrice: FormControl = new FormControl();\r\n\r\n    private formOtherPrice: FormControl = new FormControl();\r\n\r\n    private formQuantity: FormControl = new FormControl();\r\n\r\n    private formPercentage: FormControl = new FormControl();\r\n\r\n    private formBuyingPrice: FormControl = new FormControl();\r\n\r\n    private formQuantityForPrice: FormControl = new FormControl();\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public util: ProductsSellingsUtil,\r\n        public notifier: TunariNotifier,\r\n        public productsProvider: Products,\r\n        public sellingsProvider: Sellings,\r\n    ) {\r\n        this.selling = this.navParams.data.selling;\r\n        this.product = this.navParams.data.product;\r\n        this.priceTypes = this.product ?\r\n            this.util.getPriceTypes(this.product.categoryId) : null;\r\n\r\n        this.formPrice.valueChanges\r\n            .subscribe(price => {\r\n                if (price !== null) {\r\n                    this.selling.price = price;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.formOtherPrice.valueChanges\r\n            .subscribe(price => {\r\n                if (price !== null) {\r\n                    this.priceIdFromOptions = null;\r\n                    this.selling.price = price;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.formQuantity.valueChanges\r\n            .subscribe(quantity => {\r\n                if (quantity !== null) {\r\n                    this.selling.quantity = quantity;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.formPercentage.valueChanges\r\n            .subscribe(percentage => {\r\n                if (percentage !== null) {\r\n                    this.selling.percentage = percentage;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.formQuantityForPrice.valueChanges\r\n            .subscribe(quantityForPrice => {\r\n                if (quantityForPrice !== null) {\r\n                    this.selling.quantityForPrice = quantityForPrice;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.formBuyingPrice.valueChanges\r\n            .subscribe(buyingPrice => {\r\n                if (buyingPrice !== null) {\r\n                    this.selling.buyingPrice = buyingPrice;\r\n                    this.updateFinalDetails();\r\n                }\r\n            });\r\n\r\n        this.initSelling();\r\n    }\r\n\r\n    initSelling() {\r\n        this.isInvitation = this.product ? (this.product.categoryId == this.INVITATION_TYPE) : false;\r\n        this.selling.productId = this.product ?\r\n            this.product.id :\r\n            this.selling.productId;\r\n        this.formQuantity.setValue(this.selling.quantity ||\r\n            this.isInvitation ? 25 : 1);\r\n        this.selling.productName = this.product ?\r\n            this.product.name :\r\n            this.selling.productName;\r\n        this.selling.price = this.product ?\r\n            this.product.prices[0].value :\r\n            this.selling.price;\r\n        this.selling.quantityForPrice = this.selling.quantityForPrice || this.isInvitation ? 100 : 1;\r\n        this.priceIdFromOptions = this.product ?\r\n            this.product.prices[0].priceId :\r\n            null;\r\n        this.formBuyingPrice.setValue(this.product ?\r\n            this.product.buyingUnitPrice :\r\n            this.selling.buyingPrice);\r\n        this.formPercentage.setValue(this.selling.percentage || 0);\r\n    }\r\n\r\n    updatePriceFromOptions() {\r\n        if (this.priceIdFromOptions !== null) {\r\n            this.formOtherPrice.setValue(null);\r\n            this.selling.price = this.product.prices[this.priceIdFromOptions].value;\r\n            this.updateFinalDetails();\r\n        }\r\n    }\r\n\r\n    updateQuantityForPrice() {\r\n        this.updateFinalDetails();\r\n    }\r\n\r\n    private updateFinalDetails() {\r\n        this.updateTotal();\r\n        this.updateRevenue();\r\n    }\r\n\r\n    private updateTotal() {\r\n        this.selling.total = this.selling.quantity * this.selling.price / this.selling.quantityForPrice\r\n            + (this.selling.quantity * this.selling.price) * this.selling.percentage / 100;\r\n        this.selling.total = _.round(this.selling.total, 2);\r\n    }\r\n\r\n    private updateRevenue() {\r\n        this.selling.revenue = this.selling.total - this.selling.quantity * this.selling.buyingPrice;\r\n        this.selling.revenue = _.round(this.selling.revenue, 2);\r\n    }\r\n\r\n    save() {\r\n        let updateSellingLoader =\r\n            this.notifier.createLoader('Guardando la venta');\r\n\r\n        this.sellingsProvider.save(this.selling).subscribe(() => {\r\n            if (this.product && this.product.isFavorite && this.product.quantity) {\r\n                this.product.quantity -= this.selling.quantity;\r\n                this.product.quantity = this.product.quantity < 0 ? 0 : this.product.quantity;\r\n            }\r\n\r\n            this.updateFavoritesInBackground();\r\n            updateSellingLoader.dismiss();\r\n            this.navCtrl.pop();\r\n        });\r\n    }\r\n\r\n    remove() {\r\n        let removeSellingtAlert: Alert = this.util.getRemoveSellingAlert(this.selling.productName);\r\n\r\n        removeSellingtAlert.addButton({\r\n            text: 'Borralo!',\r\n            handler: alertResults => {\r\n                let removeSellingLoader =\r\n                    this.notifier.createLoader('Borrando la venta');\r\n\r\n                const shouldUpdateProductQuantity: boolean = alertResults.length > 0;\r\n                this.sellingsProvider.remove(this.selling, shouldUpdateProductQuantity).subscribe(() => {\r\n                    this.updateFavoritesInBackground();\r\n                    removeSellingLoader.dismiss();\r\n                    this.navCtrl.pop();\r\n                });\r\n            }\r\n        });\r\n\r\n        removeSellingtAlert.present();\r\n    }\r\n\r\n    private updateFavoritesInBackground() {\r\n        console.log(\"Updating product favorites in background\");\r\n        // Just update, no need to retrieve the favorites so sending \"\"\r\n        // to this method\r\n        this.productsProvider.loadFavoritesFromServer(\"\")\r\n            .subscribe();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products-sellings/product-selling-update/product-selling-update.ts","import { RequestOptions, URLSearchParams } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { TunariApi } from './tunari-api';\r\n\r\n/**\r\n * Sellings endpoint provider. \r\n */\r\n@Injectable()\r\nexport class Transactions {\r\n\r\n  baseUrl: string;\r\n\r\n  endpoint: string = \"transactions\";\r\n\r\n  constructor(public api: TunariApi) { }\r\n\r\n  get() {\r\n    return this.api.get(this.endpoint);\r\n  }\r\n\r\n  getByDate(date: Date) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('createdAt', String(date));\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.get(this.endpoint, requestOptions);\r\n  }\r\n\r\n  save(selling) {\r\n    if (selling.id) {\r\n      return this.put(selling);\r\n    } else {\r\n      return this.post(selling);\r\n    }\r\n  }\r\n\r\n  post(selling) {\r\n    return this.api.post(this.endpoint, selling);\r\n  }\r\n\r\n  put(selling) {\r\n    return this.api.put(`${this.endpoint}/${selling.id}`, selling);\r\n  }\r\n\r\n  remove(selling, shouldUpdateQuantity: boolean) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('shouldUpdateQuantity', String(shouldUpdateQuantity));\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.remove(`${this.endpoint}/${selling.id}`, requestOptions);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/transactions.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { TunariApi } from '../../../providers/tunari-api';\r\n\r\nimport { Product } from '../../../models/product';\r\n\r\n@Component({\r\n    selector: 'product-preview',\r\n    templateUrl: 'product-preview.html',\r\n})\r\nexport class ProductPreviewPage implements OnInit {\r\n\r\n    url: String;\r\n\r\n    product: Product;\r\n\r\n    constructor(public navParams: NavParams, public navCtrl: NavController, public api: TunariApi) {\r\n        this.product = this.navParams.data.product;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.url = this.product.thumbnailUrl;\r\n\r\n        this.api\r\n            .getImage(this.product.previewUrl)\r\n            .subscribe(url => {\r\n                this.url = url;\r\n            });\r\n    }\r\n\r\n    closePreview(){\r\n        this.navCtrl.pop();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-preview/product-preview.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { HttpModule } from '@angular/http';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { Network } from \"@ionic-native/network\";\r\n\r\nimport { GrafTunariApp } from './app.component';\r\nimport { ProductsTabsPage } from '../pages/products-tabs/products-tabs';\r\nimport { ProductsPage } from '../pages/products/products';\r\nimport { ProductDetailPage } from '../pages/products/product-detail/product-detail';\r\nimport { ProductUpdatePage } from '../pages/products/product-update/product-update';\r\nimport { ProductPreviewPage } from '../pages/products/product-preview/product-preview';\r\nimport { ProductsSellingsPage } from '../pages/products-sellings/products-sellings';\r\nimport { ProductSellingUpdatePage } from '../pages/products-sellings/product-selling-update/product-selling-update';\r\nimport { ProductsWarehousePage } from '../pages/products-warehouse/products-warehouse';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { ProductImgComponent } from '../pages/products/product-img/product-img.component';\r\nimport { ThumbnailImgComponent } from '../pages/products/thumbnail-img/thumbnail-img.component';\r\nimport { LoadingImgComponent } from '../pages/products/loading-img/loading-img.component';\r\nimport { SafeUrlPipe } from '../pipes/safe-url.pipe';\r\n\r\nimport { Connection } from '../providers/connection';\r\nimport { Login } from '../providers/login';\r\nimport { TunariNotifier } from '../providers/tunari-notifier';\r\nimport { TunariMessages } from '../providers/tunari-messages';\r\nimport { Products } from '../providers/products';\r\nimport { Sellings } from '../providers/sellings';\r\nimport { Transactions } from '../providers/transactions';\r\nimport { Settings } from '../providers/settings';\r\nimport { SettingsCache } from '../providers/settings-cache';\r\nimport { TunariApi } from '../providers/tunari-api';\r\nimport { TunariStorage } from '../providers/tunari-storage';\r\n\r\nexport function providers() {\r\n  return [\r\n    Connection,\r\n    Keyboard,\r\n    Login,\r\n    Network,\r\n    Products,\r\n    Sellings,\r\n    Transactions,\r\n    Settings,\r\n    SettingsCache,\r\n    SplashScreen,\r\n    StatusBar,\r\n    TunariApi,\r\n    TunariMessages,\r\n    TunariNotifier,\r\n    TunariStorage,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GrafTunariApp,\r\n    ProductsTabsPage,\r\n    ProductsPage,\r\n    ProductDetailPage,\r\n    ProductUpdatePage,\r\n    ProductPreviewPage,\r\n    ProductsSellingsPage,\r\n    ProductSellingUpdatePage,\r\n    ProductsWarehousePage,\r\n    LoginPage,\r\n    ProductImgComponent,\r\n    ThumbnailImgComponent,\r\n    LoadingImgComponent,\r\n    SafeUrlPipe\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(GrafTunariApp),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    GrafTunariApp,\r\n    ProductsTabsPage,\r\n    ProductsPage,\r\n    ProductDetailPage,\r\n    ProductUpdatePage,\r\n    ProductPreviewPage,\r\n    ProductsSellingsPage,\r\n    ProductSellingUpdatePage,\r\n    ProductsWarehousePage,\r\n    LoginPage\r\n  ],\r\n  providers: providers()\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Platform, NavController } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { Network } from \"@ionic-native/network\";\r\nimport { Events } from 'ionic-angular';\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { ProductsTabsPage } from '../pages/products-tabs/products-tabs';\r\nimport { ProductsSellingsPage } from '../pages/products-sellings/products-sellings';\r\n\r\nimport { Connection } from '../providers/connection';\r\nimport { TunariMessages } from '../providers/tunari-messages';\r\nimport { TunariNotifier } from '../providers/tunari-notifier';\r\nimport { TunariStorage } from '../providers/tunari-storage';\r\n\r\n@Component({\r\n  templateUrl: 'app.html',\r\n})\r\nexport class GrafTunariApp {\r\n\r\n  @ViewChild('rootNavController') navCtrl: NavController;\r\n\r\n  rootPage: any = LoginPage;\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    statusBar: StatusBar,\r\n    public network: Network,\r\n    splashScreen: SplashScreen,\r\n    public storage: TunariStorage,\r\n    public messages: TunariMessages,\r\n    public notifier: TunariNotifier,\r\n    public connection: Connection,\r\n    public events: Events\r\n  ) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n\r\n      moment.locale('es');\r\n\r\n      this.network.onDisconnect().subscribe(() => {\r\n        this.notifier.createToast(this.messages.noInternetError);\r\n      });\r\n\r\n      this.network.onConnect().subscribe(() => {\r\n        this.notifier.createToast(this.messages.connectedToInternet);\r\n      });\r\n\r\n      if (!connection.isConnected()) {\r\n        this.notifier.createToast(this.messages.noInternetError);\r\n      }\r\n\r\n      this.events.subscribe('user:logout', () => {\r\n        this.onLogout();\r\n      });\r\n    });\r\n  }\r\n\r\n  onViewChange(view) {\r\n    switch (view) {\r\n      case \"inventory\":\r\n        this.navCtrl.setRoot(ProductsTabsPage);\r\n        break;\r\n      case \"sellings\":\r\n        this.navCtrl.setRoot(ProductsSellingsPage);\r\n        break;\r\n      default:\r\n        this.navCtrl.setRoot(ProductsTabsPage);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  onLogout() {\r\n    this.storage.removeStorage();\r\n    this.navCtrl.setRoot(LoginPage);\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var map = {\n\t\"./af\": 248,\n\t\"./af.js\": 248,\n\t\"./ar\": 249,\n\t\"./ar-dz\": 250,\n\t\"./ar-dz.js\": 250,\n\t\"./ar-kw\": 251,\n\t\"./ar-kw.js\": 251,\n\t\"./ar-ly\": 252,\n\t\"./ar-ly.js\": 252,\n\t\"./ar-ma\": 253,\n\t\"./ar-ma.js\": 253,\n\t\"./ar-sa\": 254,\n\t\"./ar-sa.js\": 254,\n\t\"./ar-tn\": 255,\n\t\"./ar-tn.js\": 255,\n\t\"./ar.js\": 249,\n\t\"./az\": 256,\n\t\"./az.js\": 256,\n\t\"./be\": 257,\n\t\"./be.js\": 257,\n\t\"./bg\": 258,\n\t\"./bg.js\": 258,\n\t\"./bm\": 259,\n\t\"./bm.js\": 259,\n\t\"./bn\": 260,\n\t\"./bn.js\": 260,\n\t\"./bo\": 261,\n\t\"./bo.js\": 261,\n\t\"./br\": 262,\n\t\"./br.js\": 262,\n\t\"./bs\": 263,\n\t\"./bs.js\": 263,\n\t\"./ca\": 264,\n\t\"./ca.js\": 264,\n\t\"./cs\": 265,\n\t\"./cs.js\": 265,\n\t\"./cv\": 266,\n\t\"./cv.js\": 266,\n\t\"./cy\": 267,\n\t\"./cy.js\": 267,\n\t\"./da\": 268,\n\t\"./da.js\": 268,\n\t\"./de\": 269,\n\t\"./de-at\": 270,\n\t\"./de-at.js\": 270,\n\t\"./de-ch\": 271,\n\t\"./de-ch.js\": 271,\n\t\"./de.js\": 269,\n\t\"./dv\": 272,\n\t\"./dv.js\": 272,\n\t\"./el\": 273,\n\t\"./el.js\": 273,\n\t\"./en-au\": 274,\n\t\"./en-au.js\": 274,\n\t\"./en-ca\": 275,\n\t\"./en-ca.js\": 275,\n\t\"./en-gb\": 276,\n\t\"./en-gb.js\": 276,\n\t\"./en-ie\": 277,\n\t\"./en-ie.js\": 277,\n\t\"./en-il\": 278,\n\t\"./en-il.js\": 278,\n\t\"./en-nz\": 279,\n\t\"./en-nz.js\": 279,\n\t\"./eo\": 280,\n\t\"./eo.js\": 280,\n\t\"./es\": 281,\n\t\"./es-do\": 282,\n\t\"./es-do.js\": 282,\n\t\"./es-us\": 283,\n\t\"./es-us.js\": 283,\n\t\"./es.js\": 281,\n\t\"./et\": 284,\n\t\"./et.js\": 284,\n\t\"./eu\": 285,\n\t\"./eu.js\": 285,\n\t\"./fa\": 286,\n\t\"./fa.js\": 286,\n\t\"./fi\": 287,\n\t\"./fi.js\": 287,\n\t\"./fo\": 288,\n\t\"./fo.js\": 288,\n\t\"./fr\": 289,\n\t\"./fr-ca\": 290,\n\t\"./fr-ca.js\": 290,\n\t\"./fr-ch\": 291,\n\t\"./fr-ch.js\": 291,\n\t\"./fr.js\": 289,\n\t\"./fy\": 292,\n\t\"./fy.js\": 292,\n\t\"./gd\": 293,\n\t\"./gd.js\": 293,\n\t\"./gl\": 294,\n\t\"./gl.js\": 294,\n\t\"./gom-latn\": 295,\n\t\"./gom-latn.js\": 295,\n\t\"./gu\": 296,\n\t\"./gu.js\": 296,\n\t\"./he\": 297,\n\t\"./he.js\": 297,\n\t\"./hi\": 298,\n\t\"./hi.js\": 298,\n\t\"./hr\": 299,\n\t\"./hr.js\": 299,\n\t\"./hu\": 300,\n\t\"./hu.js\": 300,\n\t\"./hy-am\": 301,\n\t\"./hy-am.js\": 301,\n\t\"./id\": 302,\n\t\"./id.js\": 302,\n\t\"./is\": 303,\n\t\"./is.js\": 303,\n\t\"./it\": 304,\n\t\"./it.js\": 304,\n\t\"./ja\": 305,\n\t\"./ja.js\": 305,\n\t\"./jv\": 306,\n\t\"./jv.js\": 306,\n\t\"./ka\": 307,\n\t\"./ka.js\": 307,\n\t\"./kk\": 308,\n\t\"./kk.js\": 308,\n\t\"./km\": 309,\n\t\"./km.js\": 309,\n\t\"./kn\": 310,\n\t\"./kn.js\": 310,\n\t\"./ko\": 311,\n\t\"./ko.js\": 311,\n\t\"./ku\": 312,\n\t\"./ku.js\": 312,\n\t\"./ky\": 313,\n\t\"./ky.js\": 313,\n\t\"./lb\": 314,\n\t\"./lb.js\": 314,\n\t\"./lo\": 315,\n\t\"./lo.js\": 315,\n\t\"./lt\": 316,\n\t\"./lt.js\": 316,\n\t\"./lv\": 317,\n\t\"./lv.js\": 317,\n\t\"./me\": 318,\n\t\"./me.js\": 318,\n\t\"./mi\": 319,\n\t\"./mi.js\": 319,\n\t\"./mk\": 320,\n\t\"./mk.js\": 320,\n\t\"./ml\": 321,\n\t\"./ml.js\": 321,\n\t\"./mn\": 322,\n\t\"./mn.js\": 322,\n\t\"./mr\": 323,\n\t\"./mr.js\": 323,\n\t\"./ms\": 324,\n\t\"./ms-my\": 325,\n\t\"./ms-my.js\": 325,\n\t\"./ms.js\": 324,\n\t\"./mt\": 326,\n\t\"./mt.js\": 326,\n\t\"./my\": 327,\n\t\"./my.js\": 327,\n\t\"./nb\": 328,\n\t\"./nb.js\": 328,\n\t\"./ne\": 329,\n\t\"./ne.js\": 329,\n\t\"./nl\": 330,\n\t\"./nl-be\": 331,\n\t\"./nl-be.js\": 331,\n\t\"./nl.js\": 330,\n\t\"./nn\": 332,\n\t\"./nn.js\": 332,\n\t\"./pa-in\": 333,\n\t\"./pa-in.js\": 333,\n\t\"./pl\": 334,\n\t\"./pl.js\": 334,\n\t\"./pt\": 335,\n\t\"./pt-br\": 336,\n\t\"./pt-br.js\": 336,\n\t\"./pt.js\": 335,\n\t\"./ro\": 337,\n\t\"./ro.js\": 337,\n\t\"./ru\": 338,\n\t\"./ru.js\": 338,\n\t\"./sd\": 339,\n\t\"./sd.js\": 339,\n\t\"./se\": 340,\n\t\"./se.js\": 340,\n\t\"./si\": 341,\n\t\"./si.js\": 341,\n\t\"./sk\": 342,\n\t\"./sk.js\": 342,\n\t\"./sl\": 343,\n\t\"./sl.js\": 343,\n\t\"./sq\": 344,\n\t\"./sq.js\": 344,\n\t\"./sr\": 345,\n\t\"./sr-cyrl\": 346,\n\t\"./sr-cyrl.js\": 346,\n\t\"./sr.js\": 345,\n\t\"./ss\": 347,\n\t\"./ss.js\": 347,\n\t\"./sv\": 348,\n\t\"./sv.js\": 348,\n\t\"./sw\": 349,\n\t\"./sw.js\": 349,\n\t\"./ta\": 350,\n\t\"./ta.js\": 350,\n\t\"./te\": 351,\n\t\"./te.js\": 351,\n\t\"./tet\": 352,\n\t\"./tet.js\": 352,\n\t\"./tg\": 353,\n\t\"./tg.js\": 353,\n\t\"./th\": 354,\n\t\"./th.js\": 354,\n\t\"./tl-ph\": 355,\n\t\"./tl-ph.js\": 355,\n\t\"./tlh\": 356,\n\t\"./tlh.js\": 356,\n\t\"./tr\": 357,\n\t\"./tr.js\": 357,\n\t\"./tzl\": 358,\n\t\"./tzl.js\": 358,\n\t\"./tzm\": 359,\n\t\"./tzm-latn\": 360,\n\t\"./tzm-latn.js\": 360,\n\t\"./tzm.js\": 359,\n\t\"./ug-cn\": 361,\n\t\"./ug-cn.js\": 361,\n\t\"./uk\": 362,\n\t\"./uk.js\": 362,\n\t\"./ur\": 363,\n\t\"./ur.js\": 363,\n\t\"./uz\": 364,\n\t\"./uz-latn\": 365,\n\t\"./uz-latn.js\": 365,\n\t\"./uz.js\": 364,\n\t\"./vi\": 366,\n\t\"./vi.js\": 366,\n\t\"./x-pseudo\": 367,\n\t\"./x-pseudo.js\": 367,\n\t\"./yo\": 368,\n\t\"./yo.js\": 368,\n\t\"./zh-cn\": 369,\n\t\"./zh-cn.js\": 369,\n\t\"./zh-hk\": 370,\n\t\"./zh-hk.js\": 370,\n\t\"./zh-tw\": 371,\n\t\"./zh-tw.js\": 371\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 594;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 594\n// module chunks = 0","import { RequestOptions, URLSearchParams } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport * as _ from \"lodash\";\r\n\r\nimport { TunariApi } from './tunari-api';\r\nimport { TunariStorage } from './tunari-storage';\r\n\r\n/**\r\n * Products endpoint provider. \r\n */\r\n@Injectable()\r\nexport class Products {\r\n\r\n  baseUrl: string;\r\n\r\n  endpoint: string = 'products';\r\n\r\n  imageEndpoint: string = 'images';\r\n\r\n  constructor(public api: TunariApi, public storage: TunariStorage) { }\r\n\r\n  get(query: any, page: number = 1) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('tags', query.tags);\r\n    params.set('categoryId', query.categoryId);\r\n    params.set('typeId', query.typeId);\r\n    params.set('page', page.toString());\r\n    params.set('limit', \"20\");\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.get(this.endpoint, requestOptions);\r\n  }\r\n\r\n  save(product) {\r\n    if (product.id) {\r\n      return this.put(product);\r\n    } else {\r\n      return this.post(product);\r\n    }\r\n  }\r\n\r\n  post(product) {\r\n    return this.api.post(this.endpoint, product);\r\n  }\r\n\r\n  put(product) {\r\n    return this.api.put(`${this.endpoint}/${product.id}`, product);\r\n  }\r\n\r\n  updateProductImg(productId, imageData) {\r\n    console.log('Uploading Image...');\r\n    return this.api.postImage(`${this.imageEndpoint}/${productId}`, imageData);\r\n  }\r\n\r\n  remove(product) {\r\n    return this.api.remove(`${this.endpoint}/${product.id}`);\r\n  }\r\n\r\n  getFavorites(productCategory) {\r\n    return this.storage.getProductFavorites().then(favoritesObject => {\r\n      return favoritesObject ?\r\n        _.filter(favoritesObject.items, favorite => favorite.category === productCategory) :\r\n        null;\r\n    });\r\n  }\r\n\r\n  loadFavoritesFromServer(productCategory) {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('isFavorite', \"true\");\r\n    params.set('limit', \"10\");\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.get(this.endpoint, requestOptions)\r\n      .map(productsObject => {\r\n        this.storage.setProductFavorites(productsObject);\r\n        productsObject.items = _.filter(productsObject.items, favorite => favorite.category === productCategory);\r\n        return productsObject;\r\n      });\r\n  }\r\n\r\n  getLowQuantity() {\r\n    let params: URLSearchParams = new URLSearchParams();\r\n    params.set('isLowQuantity', \"true\");\r\n    let requestOptions = new RequestOptions({ search: params });\r\n\r\n    return this.api.get(this.endpoint, requestOptions);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/products.ts","import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * Notifications service helper. \r\n */\r\n@Injectable()\r\nexport class TunariMessages {  \r\n  \r\n  authenticating: string = `Autenticando GrafTunari`;\r\n\r\n  connectedToInternet: string = `Ahora estas conectado!`;\r\n  \r\n  loadingSettings: string = `Cargando configuraciones basicas`;\r\n\r\n  noInternetError: string = `No estas conectado a Internet!,\r\n        por favor verifica tu conexion y vuelve a intentarlo`;\r\n\r\n  invalidUser: string = `Tus usuario o tu passwords son incorrectos!`;\r\n\r\n  notAdminUser: string = `Tu usuario no es administrador!`;\r\n\r\n  errorWhenSavingProduct: string = `Hubo un error salvando el producto!`;\r\n\r\n  noPriceConfigured: string = `No hay un precio configurado para este producto, actualizalo!`;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tunari-messages.ts","import { Injectable } from '@angular/core';\r\nimport { AlertController } from 'ionic-angular';\r\n\r\nimport { SettingsCache } from '../../providers/settings-cache';\r\n\r\n@Injectable()\r\nexport class ProductsSellingsUtil {\r\n\r\n    constructor(public alertCtrl: AlertController, private settingsProvider: SettingsCache) { }\r\n\r\n    getRemoveSellingAlert(productName: string) {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Borrando!',\r\n            message: `Estas Seguro de borrar la venta del producto: ${productName}`,\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                }\r\n            ]\r\n        });\r\n\r\n        alert.addInput({\r\n            type: 'checkbox',\r\n            label: 'Actualizar la cantidad',\r\n            value: 'true',\r\n            checked: true\r\n        });\r\n\r\n        return alert;\r\n    }\r\n\r\n    getPriceTypes(selectedProductCategory: string): any[] {\r\n        let productCategory =\r\n            this.settingsProvider\r\n                .getProductCategories()\r\n                .filter(category => category.name == selectedProductCategory)[0];\r\n\r\n        return productCategory.priceTypes;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products-sellings/products-sellings-util.ts","import { Component } from '@angular/core';\r\n\r\nimport { Products } from '../../providers/products';\r\n\r\nimport { Product } from '../../models/product';\r\n\r\n@Component({\r\n    selector: 'products-warehouse',\r\n    templateUrl: 'products-warehouse.html'\r\n})\r\nexport class ProductsWarehousePage {\r\n    private productsLowQuantity: Product[];\r\n\r\n    constructor(public productsProvider: Products) {}\r\n\r\n    ionViewWillEnter() {\r\n        this.productsProvider.getLowQuantity()\r\n        .subscribe(productsObject => {\r\n            this.productsLowQuantity = productsObject.items;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products-warehouse/products-warehouse.ts","import { Component, Input } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\nimport { ProductPreviewPage } from '../product-preview/product-preview';\r\n\r\nimport { Product } from '../../../models/product';\r\n\r\n@Component({\r\n  selector: 'product-img',\r\n  templateUrl: 'product-img.component.html'\r\n})\r\nexport class ProductImgComponent {\r\n\r\n  @Input() product: Product;\r\n\r\n  constructor(public navCtrl: NavController) { }\r\n\r\n  openImage(event) {\r\n    event.stopPropagation();\r\n\r\n    this.navCtrl.push(ProductPreviewPage, {\r\n      product: this.product\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/product-img/product-img.component.ts","import { Component, Input, OnInit } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\nimport { TunariApi } from '../../../providers/tunari-api';\r\n\r\n@Component({\r\n  selector: 'thumbnail-img',\r\n  templateUrl: 'thumbnail-img.component.html'\r\n})\r\nexport class ThumbnailImgComponent implements OnInit {\r\n\r\n  @Input() thumbnailUrl: string;\r\n\r\n  url: string;\r\n\r\n  isLoading: boolean = true;\r\n\r\n  constructor(public navCtrl: NavController, public api: TunariApi) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.api\r\n      .getImage(this.thumbnailUrl)\r\n      .subscribe(url => {\r\n        this.url = url;\r\n        this.isLoading = false;\r\n      },\r\n        error => {\r\n          if (error.status === 0) {\r\n            this.url = 'assets/img/errorLoading.gif';\r\n            this.isLoading = false;\r\n          } else if (error.status === 404) {\r\n            this.url = 'assets/img/defaultProduct.png';\r\n            this.isLoading = false;\r\n          }\r\n        });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/thumbnail-img/thumbnail-img.component.ts","\r\nimport { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'loading-img',\r\n    templateUrl: 'loading-img.component.html'\r\n})\r\nexport class LoadingImgComponent {\r\n\r\n    url: string = 'assets/img/loading.gif';\r\n\r\n    constructor(public navCtrl: NavController) { }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/loading-img/loading-img.component.ts","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer} from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeUrl' })\r\nexport class SafeUrlPipe implements PipeTransform {\r\n  \r\n  constructor(private sanitizer: DomSanitizer) {}\r\n  \r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe-url.pipe.ts"],"sourceRoot":""}